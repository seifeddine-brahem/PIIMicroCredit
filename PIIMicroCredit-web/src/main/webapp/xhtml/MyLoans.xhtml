<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"
>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:pe="http://primefaces.org/ui/extensions" lang="en" xml:lang="en"
	template="../include/template.xhtml">
	<ui:define name="stylesheet">
		<link rel="stylesheet"
			href="../assets/css/dataTables.bootstrap.min.css"></link>
		<link rel="stylesheet" href="../assets/css/AdminLTE.min.css"></link>
		<link rel="stylesheet" href="../assets/css/ionicons.min.css"></link>
	</ui:define>
	<ui:define name="javascripts">
		<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
		<script src="../assets/js/dataTables.bootstrap.min.js"></script>
		<script src="../assets/js/jquery.dataTables.min.js"></script>
		<script>
		$(function () {
		    $('#example').DataTable({
		        'paging'      : true,
		        'lengthChange': true,
		        'searching'   : true,
		        'ordering'    : true,
		        'info'        : true,
		        'autoWidth'   : true
		    })
		  })
	</script>
	</ui:define>
	<ui:define name="title">
		<title>My Loans</title>
	</ui:define>
	<ui:define name="content">
		<div class="breadcumb-area flex-style black-opacity">

			<div class="container">

				<div class="row">

					<div class="col-12:m0 text-center">

						<h2>My Loans</h2>

						<ul>

							<li><a href="index.html">Home</a></li>

							<li><span>Add new Loan</span></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!-- breadcumb-area end -->
		<!-- contact-area start -->
		<section class="contact-area pt-120">
		<div class="container">
			<div class="row">
				<div class="-xs-12">
					<p:growl id="messages" />
					<h:panelGroup id="example2">
						<table id="example" class="table table-bordered table-hover"
							style="width: 100%;">
							<thead>
								<tr>
									<th colspan="2">Loan Type Information</th>
									<th colspan="4">Loan Information</th>
									<th colspan="3">Account Info</th>
								</tr>
								<tr>
									<th>Loan Type</th>
									<th>Durree</th>
									<th>Ammount</th>
									<th>Remuniration</th>
									<th>Start Date</th>
									<th>Status</th>
									<th>Account Type</th>
									<th>Account Solde</th>
									<th>Actions</th>
								</tr>
							</thead>
							<tbody>
								<ui:repeat var="loan" value="#{mesLoansBean.data}">
									<tr>
										<td><h:outputText value="#{loan.loanType.name}" /></td>
										<td><h:outputText value="#{loan.loanType.duree }" /></td>
										<td><h:outputText value="#{loan.amount}" /></td>
										<td><h:outputText value="#{loan.remuneration}" /></td>
										<td><h:outputText
												value="#{loan.start_date.toGMTString()}" /></td>
										<td><h:outputText value="#{loan.statu.name()}" /></td>
										<td><h:outputText
												value="#{loan.account.account_type.name()}" /></td>
										<td><h:outputText value="#{loan.account.solde}" /></td>
										<td><h:form>	
													<p:commandButton icon="ui-icon-trash"
													class="btn btn-small btn-danger btn-block" update="messages" value="Delete"
													actionListener="#{mesLoansBean.delete(loan.id)}"
													 />
												<p:commandButton icon="ui-icon-pencil"
													class="btn btn-small btn-block"
													action="#{editLoanBean.showEditLoan(loan.id)}" value="Edit"
													title="edit" ajax="false" />
											</h:form></td>
									</tr>
								</ui:repeat>
							</tbody>
							<tfoot>
								<tr>
									<th>Loan Type</th>
									<th>Durree</th>
									<th>Ammount</th>
									<th>Remuniration</th>
									<th>Start Date</th>
									<th>Status</th>
									<th>Account Type</th>
									<th>Account Solde</th>
									<th>Actions</th>
								</tr>
							</tfoot>
						</table>
					</h:panelGroup>
				</div>
			</div>
		</div>
		</section>
	</ui:define>
</ui:composition>